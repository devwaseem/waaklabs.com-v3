---
import Navbar from "../components/navbar.astro";
import Footer from "../components/footer.astro";
import NavbarMenu from "../components/navbar-menu.astro";
import DriftWidget from "../components/drift-widget.astro";
import Seo from "../components/seo.astro";
import Schema from "../components/schema.astro";
---

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width" />
        <link
            rel="apple-touch-icon"
            sizes="180x180"
            href="/apple-touch-icon.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="/favicon-32x32.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            href="/favicon-16x16.png"
        />
        <link rel="manifest" href="/site.webmanifest" />
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#115e59" />
        <meta name="msapplication-TileColor" content="#115e59" />
        <meta name="theme-color" content="#115e59" />
        <link rel="sitemap" href="/sitemap-index.xml" />
        <meta name="viewport" content="width=device-width" />
        <Seo />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"
            rel="stylesheet"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap"
            rel="stylesheet"
        />
        <script
            defer
            src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"
        ></script>
        <script
            defer
            src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"
        ></script>
        <script
            defer
            src="https://cdn.jsdelivr.net/npm/@alpinejs/collapse@3.13.1/dist/cdn.min.js"
        ></script>
        <script
            defer
            src="https://cdn.jsdelivr.net/npm/@alpinejs/focus@3.13.1/dist/cdn.min.js"
        ></script>
        <script
            defer
            src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.1/dist/cdn.min.js"
        ></script>
        <script src="/js/utils.js" type="text/javascript"></script>
        <script src="/js/page-animations.js" type="text/javascript"></script>
        <!-- Google tag (gtag.js) -->
        <script
            async
            src="https://www.googletagmanager.com/gtag/js?id=G-T8CRE0X4Y2"
        ></script>
        <script is:inline>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag("js", new Date());

            gtag("config", "G-T8CRE0X4Y2");
        </script>
        <!-- Microsoft clarity: begin -->
        <meta name="msvalidate.01" content="CCD6C206EF0549FD4DE309F6E8957BF4" />
        <script type="text/javascript" is:inline>
            (function (c, l, a, r, i, t, y) {
                c[a] =
                    c[a] ||
                    function () {
                        (c[a].q = c[a].q || []).push(arguments);
                    };
                t = l.createElement(r);
                t.async = 1;
                t.src = "https://www.clarity.ms/tag/" + i;
                y = l.getElementsByTagName(r)[0];
                y.parentNode.insertBefore(t, y);
            })(window, document, "clarity", "script", "j98vbhwdsx");
        </script>
        <!-- Microsoft clarity: end -->
        <Schema />
    </head>
    <body
        x-data
        data-barba="wrapper"
        class="relative bg-primary-800 text-primary-800">
        <Navbar />
        <main data-barba="container" data-barba-namespace="global">
            <div
                class="relative z-10 min-h-screen overflow-hidden rounded-b-3xl bg-white">
                <slot />
            </div>
            <Footer />
        </main>
        <NavbarMenu />
        <DriftWidget />
        <script is:inline>
            document.addEventListener("DOMContentLoaded", () => {
                gsap.registerPlugin(ScrollTrigger);
            });

            document.addEventListener("alpine:init", () => {
                Alpine.store("NavMenu", {
                    isMenuOpen: false,
                    toggleMenu() {
                        this.isMenuOpen = !this.isMenuOpen;
                    },
                });
            });
        </script>

        <style is:global>
            [x-cloak] {
                display: none !important;
            }

            ::-moz-selection {
                /* Code for Firefox */
                @apply bg-primary-800 text-white;
            }

            ::selection {
                @apply bg-primary-800 text-white;
            }

            .content {
                h1 {
                    @apply mb-6 mt-16 text-4xl font-medium;
                }

                h2 {
                    @apply mb-6 mt-12 text-3xl font-medium;
                }
                h3 {
                    @apply mb-6 mt-12 text-2xl font-medium;
                }
                h4 {
                    @apply mb-6 mt-12 text-xl font-medium;
                }
                h5 {
                    @apply mb-4 mt-10 text-lg font-medium;
                }
                h6 {
                    @apply mb-4 mt-10 text-lg font-medium;
                }
                p {
                    @apply mb-6 text-lg;
                }

                img {
                    @apply my-20 max-h-[70vh] object-contain;
                }
            }
        </style>
    </body>
</html>
