---
import Navbar from "../components/navbar.astro";
import Footer from "../components/footer.astro";
import NavbarMenu from "../components/navbar-menu.astro";
import DriftWidget from "../components/drift-widget.astro";
---

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />
        <title>Astro</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"
            rel="stylesheet"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap"
            rel="stylesheet"
        />
        <script
            defer
            src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"
        ></script>
        <script
            defer
            src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"
        ></script>
        <script
            defer
            src="https://cdn.jsdelivr.net/npm/@alpinejs/collapse@3.13.1/dist/cdn.min.js"
        ></script>
        <script
            defer
            src="https://cdn.jsdelivr.net/npm/@alpinejs/focus@3.13.1/dist/cdn.min.js"
        ></script>
        <script
            defer
            src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.1/dist/cdn.min.js"
        ></script>
        <script src="/js/utils.js" type="text/javascript"></script>
        <script src="/js/page-animations.js" type="text/javascript"></script>
    </head>
    <body
        x-data
        data-barba="wrapper"
        class="relative bg-primary-800 text-primary-800">
        <Navbar />
        <main data-barba="container" data-barba-namespace="global">
            <div
                class="relative z-10 min-h-screen overflow-hidden rounded-b-3xl bg-white">
                <slot />
            </div>
            <Footer />
        </main>
        <NavbarMenu />
        <DriftWidget />
    </body>
</html>

<script is:inline>
    document.addEventListener("DOMContentLoaded", () => {
        gsap.registerPlugin(ScrollTrigger);
    });

    document.addEventListener("alpine:init", () => {
        Alpine.store("NavMenu", {
            isMenuOpen: false,
            toggleMenu() {
                this.isMenuOpen = !this.isMenuOpen;
            },
        });
    });
</script>

<style is:global>
    [x-cloak] {
        display: none !important;
    }

    ::-moz-selection {
        /* Code for Firefox */
        @apply bg-primary-800 text-white;
    }

    ::selection {
        @apply bg-primary-800 text-white;
    }

    .content {
        h1 {
            @apply mb-6 mt-16 text-4xl font-medium;
        }

        h2 {
            @apply mb-6 mt-12 text-3xl font-medium;
        }
        h3 {
            @apply mb-6 mt-12 text-2xl font-medium;
        }
        h4 {
            @apply mb-6 mt-12 text-xl font-medium;
        }
        h5 {
            @apply mb-4 mt-10 text-lg font-medium;
        }
        h6 {
            @apply mb-4 mt-10 text-lg font-medium;
        }
        p {
            @apply mb-6 text-lg;
        }

        img {
            @apply my-20 max-h-[70vh] object-contain;
        }
    }
</style>
